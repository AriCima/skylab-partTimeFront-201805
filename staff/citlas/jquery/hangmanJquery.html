<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">  
  <meta name="description" content="hangman">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Hangman con Jquery</title>
  <script
  src="https://code.jquery.com/jquery-3.3.1.js"
  integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60="
  crossorigin="anonymous"></script>
</head>

<body>

  <div class="hangman">
    <h1>HANGMAN con JQuery</h1>
    <div class="wordToGuess">
        <button class="start" type="button">Para empezar has click!</button>
        <p class="showWord"></p>
    </div>
      <form class="letra" style="display:none;">
        Escoge una letra: <input type="text" name="letra" value=""><br>
        <p class="another"></p>
        <button class="guessing" type="button">haz click para saber si esta</button>
        
      </form>
      <p class="foundOrNot"></p>
      <p class="status"></p>
    </div>
  </div>




<script>
  var paises = ['mexico','espaÃ±a','argentina','venezuela','colombia', 'uruguay','francia','alemania','suiza','suecia', 'italia','croacia','canada','china','japon', 'portugal','brasil','chile','andorra','holanda'];
  var vidas;
  var selectedWord; 
  var xWord;
  var counts;

/* --- APPROACH OBJECT --- */
  function Hangman(){
    this.vidas;

    this.initHangman = function(){
      this.vidas = 5;

    }

    this.checkStatus = function(){
      if(this.vidas > 0){
      }
      console.log(this.vidas);
    }
  }

  var h = new Hangman();
  h.initHangman();
  h.checkStatus()
/* --- APPROACH OBJECT --- */

  function initHangman(){
    vidas = 5;
    xWord = [];
    counts = {};

    console.log( "ready!" );
      selectedWord = paises[Math.floor((Math.random() * paises.length))];
    console.log(selectedWord)
    selectedWord = selectedWord.split('');  
    for(i=0;i<selectedWord.length;i++){
      xWord.push('*');//para crear la palabra con * en cada letra
    }
      
    $('.showWord').text(xWord.join(''));
    $('.letra').css('display','block');

    var h = new Hangman();
  h.initHangman();
  h.checkStatus()
  }

  $('.start').on('click',function(){
    initHangman();
  });

    
  


  function askLetter(){
    var letter = $('input').val()
    //console.log(letter)
    letter=letter.toLowerCase();
    var acertar = 0;
    for (i=0;i<selectedWord.length;i++){
      if(selectedWord[i]==letter){
        xWord[i]= letter;
        acertar++;
      }   
    }//termina for
    
    if (acertar<1) {
        vidas--; 
        $('.foundOrNot').text('una ' + letter + ' No has acertado! te quedan ' + vidas + ' vidas!');  
      } else {
        $('.foundOrNot').text('una ' + letter + ' Has acertado!\n' );
        $('.showWord').text(xWord.join(''));
      }
  }
  
  function checkStatus(){
    if (xWord.includes('*')){
          if (vidas<1){
            $('.status').text('Game Over \n La palabra era '  + selectedWord.join(''));
            //return
          } else {
            $('.another').text('Pon otra letra');
            $('input').val('');
            
          };
    } else {
      $('.status').text('You win');
      $('.another').text('');
          //return
    }
  };//fin de check status

  $('.guessing').click(function(){
      askLetter();
      checkStatus();
  });
</script>

</body>
  

</html>

